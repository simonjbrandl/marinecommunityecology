{
  "articles": [
    {
      "path": "0-overview.html",
      "title": "Session 0: Overview",
      "description": "This session provides a quick overview over the course and a short primer to installing and organizing your R environment. \n",
      "author": [
        {
          "name": "Simon J. Brandl, PhD",
          "url": "https://www.fishandfunctions.com/"
        }
      ],
      "date": "`r Sys.Date()`",
      "contents": "\n\nContents\nStructure of coding lessons\na. 0: Demo\nb. 0: Slides\nc.¬†0: Exercises\nd.¬†0: Solutions\n\nStructure of coding lessons\nAll of the sessions are structured in the same way, presenting the following materials:\na. A narrated slideshow that demos the content we‚Äôre working on\nb. The slideshow itself, which allows you to click links, copy code, etc.\nc.¬†A set of training exercises, marked as either ‚ÄòHomework‚Äô or ‚ÄòClasswork‚Äô\nd.¬†Solutions to the training exercises, which will come online after class\n\n‚Äî\n\n\n\na. 0: Demo\n\n\n\n\n\n\n\n\nb. 0: Slides\nYou can access the full slideshow used in the 0-Overview narration here.\n\nc.¬†0: Exercises\nNormally, this section would have exercises to be done as either homework or classwork. However, since it‚Äôs still early in the semester, I‚Äôll let you get away without homework on this one! üòâ\n\nd.¬†0: Solutions\nThis section will provide the solutions for homework and classwork exercises. But since there are no exercises, we also don‚Äôt have any solutions üòî\n\n\n\n",
      "last_modified": "2024-02-07T11:59:03-06:00"
    },
    {
      "path": "1-introduction.html",
      "title": "Session 1: Introduction to R",
      "description": "This session provides an introduction to the most basic operations and functions in R. \n",
      "author": [
        {
          "name": "Simon J. Brandl, PhD",
          "url": "https://www.fishandfunctions.com/"
        }
      ],
      "date": "`r Sys.Date()`",
      "contents": "\n\nContents\na. 1: Demo\nb. 1: Slides\nc.¬†1: Exercises\nHomework\nBonus homework ü§©\n\nClasswork\n\nd.¬†1: Solutions\nHomework:\na)\nb)\nc)\nBonus work\n\nClasswork\na)\nb)\nc)\nd)\n\n\n\na. 1: Demo\n\n\n\n\n\n\n\n\nb. 1: Slides\nYou can access the full slideshow used in the 1-Introduction narration here.\nThe dataset called ‚Äòcoralreefherbivores.csv‚Äô can be downloaded here.\n\nc.¬†1: Exercises\nHomework\nPlease complete the following exercises at home after going through the demo above. We will go through the solutions to these exercises in class on Monday Jan 29th\ncreate the following vectors:\n4 5 6 4 5 6 4 5 6 4 5 6 4 5 6 4 5 6\na sequence from 2 to 36, repeated three times\nthe words ‚Äúbluefish‚Äù ‚Äúredfish‚Äù and ‚Äúwhitefish‚Äù in this sequence, six times\ncombine the last two vectors into a new vector\n\ncreate a vector using  rpois(100, 10) \ndetermine the frequency of the number 8 in your vector\ndetermine how many numbers in your vector are greater than 10\ndetermine how many numbers in your vector are smaller than 10 but greater than 5\n\nbuild a matrix that looks like this:\n\n[,1]\n[,2]\n[,3]\n[,4]\n[,5]\n[1,]\n1\n2\n3\n4\n[2,]\n5\n6\n7\n8\n[3,]\n9\n10\n11\n12\n[4,]\n13\n14\n15\n16\n[5,]\n17\n18\n19\n20\nBonus homework ü§©\nPerform these exercises if you want to treat yourself to some extra work. Note that this is not a required part of the homework assignment\ncreate a sequence of multiples of nines between 0 and 100, repeated ten times\ncreate a vector with random values using  rnorm(1000, 0) , with an explanation of what  rnorm()  does\ncreate a second vector using rnorm, but this time with 10,000 elements, a mean of 50, and a standard deviation of 10\ntell me what the following functions tell you about your vectors:  length(), str(), summary(), head(), tail() \nretain only the elements from your previous vector that are greater than the mean but smaller than the 3rd Quantile\nClasswork\nWe will do these exercises in class on Monday, January 29th\ncreate a vector using  rpois(500, 10) \ndetermine the proportional frequency of numbers that are >15\nsort the vector in descending order\ntake the log of the vector and then determine the mean value\nreplace every 10th value in the vector with 0, take the log, and calculate the mean. Exclude values that cause the mean to be -Inf\n\nbuild a matrix that looks like this:\n\n[]\nredfish\nbluefish\nwhitefish\nyellowfish\nS1\n0\n3\n6\n9\nS2\n12\n15\n18\n21\nS3\n24\n27\n30\n33\nS4\n24\n22\n20\n18\nS5\n16\n14\n12\n10\nS6\n8\n6\n4\n2\nturn your matrix into a data.frame and add a column entitled ‚ÄúLocation‚Äù that contains the following sequence: Texas, Belize, Texas, Belize, Texas\ndetermine the mean number of fish at site S3\ndetermine the difference in the mean number of bluefish and yellowfish across all sites\nbuild the following matrix:\n100 rows, 20 columns, filled column-wise with randomly-drawn, normally distributed values with a mean of 100 and a standard deviation of 10\ndetermine the value of the second-to-last row in column 5\ndetermine which column has the largest value in the matrix and which column has the greatest deviation from the mean (100)\n\nload in the ‚Äòcoralreefherbivores.csv‚Äô dataset and\nturn it into a tibble\ndetermine the data classes of each column\ncompare the snoutlength of the species Chlorurus microrhinos and Zebrasoma velifer\n\n\nd.¬†1: Solutions\nHomework:\na)\n\n\na1<-rep(seq(from=4,to=6,by=1),times=6) %>%\n  print()\n\n [1] 4 5 6 4 5 6 4 5 6 4 5 6 4 5 6 4 5 6\n\na2 <- rep(seq(from = 2, to = 36, by = 1), times = 3)\na2\n\n  [1]  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22\n [22] 23 24 25 26 27 28 29 30 31 32 33 34 35 36  2  3  4  5  6  7  8\n [43]  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29\n [64] 30 31 32 33 34 35 36  2  3  4  5  6  7  8  9 10 11 12 13 14 15\n [85] 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36\n\na3 <- rep(c(\"bluefish\", \"redfish\", \"whitefish\"), times = 6)\na3\n\n [1] \"bluefish\"  \"redfish\"   \"whitefish\" \"bluefish\"  \"redfish\"  \n [6] \"whitefish\" \"bluefish\"  \"redfish\"   \"whitefish\" \"bluefish\" \n[11] \"redfish\"   \"whitefish\" \"bluefish\"  \"redfish\"   \"whitefish\"\n[16] \"bluefish\"  \"redfish\"   \"whitefish\"\n\na4 <- paste(a2, a3)\na4\n\n  [1] \"2 bluefish\"   \"3 redfish\"    \"4 whitefish\"  \"5 bluefish\"  \n  [5] \"6 redfish\"    \"7 whitefish\"  \"8 bluefish\"   \"9 redfish\"   \n  [9] \"10 whitefish\" \"11 bluefish\"  \"12 redfish\"   \"13 whitefish\"\n [13] \"14 bluefish\"  \"15 redfish\"   \"16 whitefish\" \"17 bluefish\" \n [17] \"18 redfish\"   \"19 whitefish\" \"20 bluefish\"  \"21 redfish\"  \n [21] \"22 whitefish\" \"23 bluefish\"  \"24 redfish\"   \"25 whitefish\"\n [25] \"26 bluefish\"  \"27 redfish\"   \"28 whitefish\" \"29 bluefish\" \n [29] \"30 redfish\"   \"31 whitefish\" \"32 bluefish\"  \"33 redfish\"  \n [33] \"34 whitefish\" \"35 bluefish\"  \"36 redfish\"   \"2 whitefish\" \n [37] \"3 bluefish\"   \"4 redfish\"    \"5 whitefish\"  \"6 bluefish\"  \n [41] \"7 redfish\"    \"8 whitefish\"  \"9 bluefish\"   \"10 redfish\"  \n [45] \"11 whitefish\" \"12 bluefish\"  \"13 redfish\"   \"14 whitefish\"\n [49] \"15 bluefish\"  \"16 redfish\"   \"17 whitefish\" \"18 bluefish\" \n [53] \"19 redfish\"   \"20 whitefish\" \"21 bluefish\"  \"22 redfish\"  \n [57] \"23 whitefish\" \"24 bluefish\"  \"25 redfish\"   \"26 whitefish\"\n [61] \"27 bluefish\"  \"28 redfish\"   \"29 whitefish\" \"30 bluefish\" \n [65] \"31 redfish\"   \"32 whitefish\" \"33 bluefish\"  \"34 redfish\"  \n [69] \"35 whitefish\" \"36 bluefish\"  \"2 redfish\"    \"3 whitefish\" \n [73] \"4 bluefish\"   \"5 redfish\"    \"6 whitefish\"  \"7 bluefish\"  \n [77] \"8 redfish\"    \"9 whitefish\"  \"10 bluefish\"  \"11 redfish\"  \n [81] \"12 whitefish\" \"13 bluefish\"  \"14 redfish\"   \"15 whitefish\"\n [85] \"16 bluefish\"  \"17 redfish\"   \"18 whitefish\" \"19 bluefish\" \n [89] \"20 redfish\"   \"21 whitefish\" \"22 bluefish\"  \"23 redfish\"  \n [93] \"24 whitefish\" \"25 bluefish\"  \"26 redfish\"   \"27 whitefish\"\n [97] \"28 bluefish\"  \"29 redfish\"   \"30 whitefish\" \"31 bluefish\" \n[101] \"32 redfish\"   \"33 whitefish\" \"34 bluefish\"  \"35 redfish\"  \n[105] \"36 whitefish\"\n\nb)\n\n\nb1 <- rpois(100,10)\nb1\n\n  [1] 10 12 11  6  5  7  7  5 14  9 10 12  6 10 10  5 11 11  8 12 16\n [22]  9  9  8  9 16  6  6 13 12 17 13 11  9 12  9 10  8 16  9 11 12\n [43]  8  9 12 13  6  6  8 10 16 21 10 11  9 10  6 12 10  6 11 12 10\n [64]  9  8  6 12  9  6  8  7  8 13  8  5 11 10 10  5 10 14 12 11  9\n [85]  8  9 11 11  3 12  9  6 10  9  7 12 10 11  8  9\n\nb2 <- b1[b1 == 8]\ntable(b2)\n\nb2\n 8 \n11 \n\nlength(b2)\n\n[1] 11\n\nb3 <- b1[b1 >10]\nb3\n\n [1] 12 11 14 12 11 11 12 16 16 13 12 17 13 11 12 16 11 12 12 13 16 21\n[23] 11 12 11 12 12 13 11 14 12 11 11 11 12 12 11\n\nb4 <- b1[b1 <10 & b1 >5]\nb4\n\n [1] 6 7 7 9 6 8 9 9 8 9 6 6 9 9 8 9 8 9 6 6 8 9 6 6 9 8 6 9 6 8 7 8 8\n[34] 9 8 9 9 6 9 7 8 9\n\nc)\n\n\nc1 <- matrix(1:20, nrow = 5, byrow = TRUE)\nc1\n\n     [,1] [,2] [,3] [,4]\n[1,]    1    2    3    4\n[2,]    5    6    7    8\n[3,]    9   10   11   12\n[4,]   13   14   15   16\n[5,]   17   18   19   20\n\nBonus work\nTBA\nClasswork\na)\n\n\na1 <- rpois(500, 10)\nhead(a1)\n\n[1] 10 14 10  8 17  9\n\na2 <- a1[a1 > 15]\nlength(a2)/length(a1)\n\n[1] 0.054\n\na3 <- rev(sort(a1))\nhead(a3)\n\n[1] 19 18 18 18 17 17\n\na4 <- log(a1)\nhead(a4)\n\n[1] 2.302585 2.639057 2.302585 2.079442 2.833213 2.197225\n\n#a5\na1[seq(from=0,to=500,by=10)]<-0\n#or\nreplace(a1, (seq(from=0, to=500, by=10)), 0)\n\n  [1] 10 14 10  8 17  9 11  5 14  0  9  9 10  6  9 13  7  8  3  0 14\n [22]  7  9  6  6  8 12  5 13  0 10 14  8  5 12 12 12  7  6  0 10 14\n [43] 14 11  6 14  8  5 15  0 17 17 12  8  9 13 13  9 10  0 15 11  8\n [64] 10  8 12  6  5  8  0  4  6 13 11  6 11 11 11  6  0 12  6 13  7\n [85] 13 14  5 14  7  0 16 15 17 15  9  9  5 10 12  0  6 10 10  9 10\n[106] 11  8 10  8  0  8 16 11 10 14  5 10 14  9  0  7 10 15  9 12  9\n[127] 13  9  9  0  7 12  8  8 12  4  9 10  9  0 11  9  8 17  6 11 12\n[148] 11 16  0  6  9 18 14  7 10  8  8  7  0  6 17  9 12  9  6 14 10\n[169]  7  0  6  7  8  7 12  9  8  7  8  0  7 10  9 12 12 14 14 10  9\n[190]  0  8 12  8 15  8  6  6  8  6  0 15  5 13 13  8 17  5  7  9  0\n[211]  9  9  9 13  7  9  5  5  9  0  5  9  5 11 13  6 12  9  9  0  9\n[232] 12  6 18 17 13  8 10  9  0  8 15 11 17 15 11 12  9 10  0  7 12\n[253] 14  9  3 13 11  8  9  0  5  6 12  8  8  8  7 12  7  0  8 11 13\n[274] 12  9  5 10  8 19  0 11 11 11  6  9 12 11  8 12  0 12 13 10 12\n[295] 10 15  8 10  7  0 13  9 11 14 16 14 13  8 12  0 10 10 10 15 17\n[316]  3  9  9  7  0  9 14 15  5 13  8 16 18 13  0  2  9 12  8  7  9\n[337]  6 10  9  0  6 16 10  9 11 10 10  4 11  0 10  7  7  8  5 13  8\n[358]  5  9  0 14  8 13  9 14  9 10 15 10  0 13 11 10  8  9 11  3 11\n[379]  9  0  9 11  9 11 10  8  7  9  8  0  8 11 12 16 11 14  9 13 10\n[400]  0 10 11 10  9  7 12  9 13  7  0 10 16 13  9 13  6 17 12  6  0\n[421] 12  6 14 14  4 17 14 13 11  0  3 11 12  9  8  9 12 11 13  0 10\n[442]  7  6  5  6 10  6  8  5  0 14 12 12  7 14  4  6  8 10  0  9  9\n[463] 15 12 12  9 12  8 12  0 10  6 11  5 12  9  9 11 12  0  9 17 14\n[484] 13  9  7  7  8  8  0  7  9  7 11 12  4 10  5 10  0\n\na5logmean <- mean(log(a1[seq(from=0,to=500,by=10)]<-0)) # doesn't work because of -Inf values, so let's go step-by-step\n\na5step1 <- replace(a1, (seq(from=0, to=500, by=10)), 0) # replace with 0s\na5step2 <- a5step1[a5step1 > 0] # remove the 0s\na5step3 <- mean(log(a5step2)) # take the log of the mean\n\n\nb)\n\n\nb1 <- matrix(c(seq(from = 0, to = 33, by = 3), seq(from = 24, to = 2, by = -2)), ncol = 4, byrow = TRUE)\nrownames(b1) <- c(\"S1\", \"S2\", \"S3\", \"S4\", \"S5\", \"S6\")\ncolnames(b1) <- c(\"redfish\", \"bluefish\", \"whitefish\", \"yellowfish\")\n\nb2 <- as.data.frame(b1) # turn into data frame\nb2$Location <- c(rep(c(\"Texas\", \"Belize\"), times = 3)) # add new column\n\nb3 <- as.matrix(b2[3,c(1:4)]) # turn row 3 and columns 1:4 back into a matrix\nmean(b3) # take the mean of the matrix \n\n[1] 28.5\n\nprint(b4blue <- mean(b2$bluefish)) # mean of bluefish\n\n[1] 14.5\n\nprint(b4yellow <- mean(b2$yellowfish)) # mean of yellowfish\n\n[1] 15.5\n\nprint(b4difference <- b4blue - b4yellow) # difference\n\n[1] -1\n\nc)\n\n\nc1 <- matrix(rnorm(2000, 100, 10), ncol = 20, byrow = F)\nhead(c1)\n\n          [,1]      [,2]      [,3]      [,4]      [,5]      [,6]\n[1,] 106.70517 101.00746  85.34120 100.39571 105.29820 104.63017\n[2,]  96.95755  84.54898  99.09860  99.84267  95.58715  81.04882\n[3,]  95.80670  86.19663  90.43772  84.36966 107.27817 102.79204\n[4,] 106.57254  86.12618  89.87535 104.88896 108.49780 100.62338\n[5,]  96.68943  73.93478  99.12212 101.70927 109.76734  77.63198\n[6,] 105.01357 100.16121 108.75228  96.60922  93.50950  72.22930\n          [,7]      [,8]     [,9]     [,10]     [,11]     [,12]\n[1,]  81.57228  91.14663 97.53132  98.83523  98.52533  83.38146\n[2,]  98.96881  90.66913 92.02134 101.98997  93.02719  96.75178\n[3,]  96.59783 101.38419 88.61554  77.36726  91.09309 108.71468\n[4,]  99.99432  99.67018 83.20279 105.44457  88.81986  78.28929\n[5,] 104.15918 108.54277 97.44515  80.19718  91.79378 103.76862\n[6,]  96.26953  89.70409 99.17184 111.73115 118.51592 126.58496\n         [,13]    [,14]     [,15]     [,16]     [,17]     [,18]\n[1,]  93.38594 107.4136 106.73372  86.18249 103.58510  92.82855\n[2,] 110.32213 111.5964 110.92710 110.08345  90.11891  95.89423\n[3,]  96.29367 101.2731 106.38957 121.60491  97.34872 116.88558\n[4,] 103.10280 108.0018  82.74706 115.15617 106.16694  86.04018\n[5,] 111.37590 100.8902 117.36271  88.37337 100.23446 103.46445\n[6,]  80.27215 110.6409  99.44429  98.91816  98.82312  83.86035\n         [,19]     [,20]\n[1,] 107.35412 116.09744\n[2,]  80.72242  98.38197\n[3,]  96.12548 110.64065\n[4,]  90.28277  89.48014\n[5,]  91.68213 104.88497\n[6,]  89.93391 116.71020\n\nc2 <- c1[98, 5] # look for value in row 98 column 5\nc2\n\n[1] 98.95563\n\nsummary(c1) # look for maximum value and largest deviation from the specified mean (100)\n\n       V1               V2               V3               V4        \n Min.   : 66.72   Min.   : 72.56   Min.   : 78.97   Min.   : 70.88  \n 1st Qu.: 92.41   1st Qu.: 90.85   1st Qu.: 93.33   1st Qu.: 95.35  \n Median : 98.87   Median : 98.84   Median : 99.40   Median :101.41  \n Mean   : 98.90   Mean   : 98.54   Mean   : 99.69   Mean   :100.60  \n 3rd Qu.:105.09   3rd Qu.:104.83   3rd Qu.:105.32   3rd Qu.:107.11  \n Max.   :125.47   Max.   :123.39   Max.   :120.09   Max.   :119.40  \n       V5               V6               V7               V8        \n Min.   : 81.23   Min.   : 72.23   Min.   : 77.26   Min.   : 79.73  \n 1st Qu.: 93.83   1st Qu.: 93.62   1st Qu.: 90.35   1st Qu.: 93.37  \n Median : 98.45   Median :100.20   Median : 99.06   Median : 99.57  \n Mean   : 99.62   Mean   : 99.75   Mean   : 98.89   Mean   :100.46  \n 3rd Qu.:106.23   3rd Qu.:106.82   3rd Qu.:106.79   3rd Qu.:106.33  \n Max.   :126.18   Max.   :118.82   Max.   :124.15   Max.   :123.78  \n       V9              V10              V11              V12        \n Min.   : 75.51   Min.   : 76.85   Min.   : 81.90   Min.   : 78.29  \n 1st Qu.: 92.28   1st Qu.: 90.15   1st Qu.: 93.05   1st Qu.: 93.67  \n Median :100.58   Median : 98.12   Median : 99.98   Median :101.03  \n Mean   : 99.60   Mean   : 99.28   Mean   :100.96   Mean   :100.44  \n 3rd Qu.:106.05   3rd Qu.:107.97   3rd Qu.:106.81   3rd Qu.:107.31  \n Max.   :124.29   Max.   :142.11   Max.   :127.78   Max.   :126.58  \n      V13              V14              V15              V16        \n Min.   : 80.27   Min.   : 75.60   Min.   : 80.74   Min.   : 71.57  \n 1st Qu.: 95.68   1st Qu.: 92.37   1st Qu.: 93.86   1st Qu.: 94.01  \n Median :101.42   Median : 99.21   Median :101.40   Median : 99.07  \n Mean   :101.35   Mean   : 99.44   Mean   :101.11   Mean   : 99.40  \n 3rd Qu.:107.19   3rd Qu.:106.71   3rd Qu.:107.16   3rd Qu.:105.73  \n Max.   :126.01   Max.   :122.89   Max.   :122.74   Max.   :123.10  \n      V17              V18              V19              V20        \n Min.   : 75.74   Min.   : 81.74   Min.   : 72.51   Min.   : 72.97  \n 1st Qu.: 94.14   1st Qu.: 91.85   1st Qu.: 93.33   1st Qu.: 93.13  \n Median : 99.94   Median : 98.31   Median : 99.84   Median :101.46  \n Mean   : 99.00   Mean   : 98.71   Mean   :100.39   Mean   :100.64  \n 3rd Qu.:105.38   3rd Qu.:104.67   3rd Qu.:106.42   3rd Qu.:108.85  \n Max.   :123.97   Max.   :125.95   Max.   :127.68   Max.   :125.49  \n\nd)\n\n\nherbivores <- read.csv(file = \"data/coralreefherbivores.csv\")\nherbivore.tbl <- dplyr::as_tibble(herbivores) # turn into tibble - might need a new package here ;-)\nherbivore.tbl # tibbles tell you the data classes but str() would also work well\n\n# A tibble: 96 √ó 10\n   family       genus      species gen.spe    sl bodydepth snoutlength\n   <chr>        <chr>      <chr>   <chr>   <dbl>     <dbl>       <dbl>\n 1 Acanthuridae Acanthurus achill‚Ä¶ Acanth‚Ä¶ 164.      0.554       0.488\n 2 Acanthuridae Acanthurus albipe‚Ä¶ Acanth‚Ä¶ 213.      0.441       0.440\n 3 Acanthuridae Acanthurus aurant‚Ä¶ Acanth‚Ä¶ 216       0.473       0.539\n 4 Acanthuridae Acanthurus blochii Acanth‚Ä¶  82.9     0.559       0.478\n 5 Acanthuridae Acanthurus dussum‚Ä¶ Acanth‚Ä¶ 194.      0.546       0.566\n 6 Acanthuridae Acanthurus fowleri Acanth‚Ä¶ 266       0.467       0.595\n 7 Acanthuridae Acanthurus guttat‚Ä¶ Acanth‚Ä¶ 150       0.680       0.404\n 8 Acanthuridae Acanthurus leucoc‚Ä¶ Acanth‚Ä¶ 229.      0.491       0.563\n 9 Acanthuridae Acanthurus leucop‚Ä¶ Acanth‚Ä¶ 190.      0.578       0.490\n10 Acanthuridae Acanthurus lineat‚Ä¶ Acanth‚Ä¶ 133.      0.499       0.464\n# ‚Ñπ 86 more rows\n# ‚Ñπ 3 more variables: eyediameter <dbl>, size <chr>, schooling <chr>\n\nherbivore.tbl$gen.spe # the two species are rows 31 and 96\n\n [1] \"Acanthurus.achilles\"       \"Acanthurus.albipectoralis\"\n [3] \"Acanthurus.auranticavus\"   \"Acanthurus.blochii\"       \n [5] \"Acanthurus.dussumieri\"     \"Acanthurus.fowleri\"       \n [7] \"Acanthurus.guttatus\"       \"Acanthurus.leucocheilus\"  \n [9] \"Acanthurus.leucopareius\"   \"Acanthurus.lineatus\"      \n[11] \"Acanthurus.maculiceps\"     \"Acanthurus.mata\"          \n[13] \"Acanthurus.nigricans\"      \"Acanthurus.nigricauda\"    \n[15] \"Acanthurus.nigrofuscus\"    \"Acanthurus.nigroris\"      \n[17] \"Acanthurus.nubilus\"        \"Acanthurus.olivaceus\"     \n[19] \"Acanthurus.pyroferus\"      \"Acanthurus.thompsoni\"     \n[21] \"Acanthurus.triostegus\"     \"Acanthurus.xanthopterus\"  \n[23] \"Bolbometopon.muricatum\"    \"Calotomus.carolinus\"      \n[25] \"Calotomus.spinidens\"       \"Cetoscarus.ocellatus\"     \n[27] \"Chlorurus.bleekeri\"        \"Chlorurus.bowersi\"        \n[29] \"Chlorurus.frontalis\"       \"Chlorurus.japanensis\"     \n[31] \"Chlorurus.microrhinos\"     \"Ctenochaetus.binotatus\"   \n[33] \"Ctenochaetus.flavicauda\"   \"Ctenochaetus.hawaiiensis\" \n[35] \"Ctenochaetus.marginatus\"   \"Ctenochaetus.striatus\"    \n[37] \"Ctenochaetus.strigosus\"    \"Ctenochaetus.tominiensis\" \n[39] \"Hipposcarus.longiceps\"     \"Kyphosus.vaigiensis\"      \n[41] \"Leptoscarus.vaigiensis\"    \"Naso.annulatus\"           \n[43] \"Naso.brachycentron\"        \"Naso.brevirostris\"        \n[45] \"Naso.caesius\"              \"Naso.hexacanthus\"         \n[47] \"Naso.lituratus\"            \"Naso.lopezi\"              \n[49] \"Naso.thynnoides\"           \"Naso.tuberosus\"           \n[51] \"Naso.unicornis\"            \"Naso.vlamingii\"           \n[53] \"Paracanthurus.hepatus\"     \"Scarus.altipinnis\"        \n[55] \"Scarus.chameleon\"          \"Scarus.dimidiatus\"        \n[57] \"Scarus.festivus\"           \"Scarus.flavipectoralis\"   \n[59] \"Scarus.forsteni\"           \"Scarus.frenatus\"          \n[61] \"Scarus.ghobban\"            \"Scarus.globiceps\"         \n[63] \"Scarus.hypselopterus\"      \"Scarus.longipinnis\"       \n[65] \"Scarus.niger\"              \"Scarus.oviceps\"           \n[67] \"Scarus.prasiognathos\"      \"Scarus.psittacus\"         \n[69] \"Scarus.quoyi\"              \"Scarus.rivulatus\"         \n[71] \"Scarus.rubroviolaceus\"     \"Scarus.schlegeli\"         \n[73] \"Scarus.spinus\"             \"Scarus.tricolor\"          \n[75] \"Scarus.xanthopleura\"       \"Siganus.argenteus\"        \n[77] \"Siganus.canaliculatus\"     \"Siganus.corallinus\"       \n[79] \"Siganus.doliatus\"          \"Siganus.fuscescens\"       \n[81] \"Siganus.guttatus\"          \"Siganus.javus\"            \n[83] \"Siganus.lineatus\"          \"Siganus.niger\"            \n[85] \"Siganus.puellus\"           \"Siganus.punctatissimus\"   \n[87] \"Siganus.punctatus\"         \"Siganus.randalli\"         \n[89] \"Siganus.spinus\"            \"Siganus.stellatus\"        \n[91] \"Siganus.vermiculatus\"      \"Siganus.vulpinus\"         \n[93] \"Zebrasoma.flavescens\"      \"Zebrasoma.rostratum\"      \n[95] \"Zebrasoma.scopas\"          \"Zebrasoma.velifer\"        \n\nherbivore.tbl[c(31,96),] # check snoutlength\n\n# A tibble: 2 √ó 10\n  family genus species gen.spe    sl bodydepth snoutlength eyediameter\n  <chr>  <chr> <chr>   <chr>   <dbl>     <dbl>       <dbl>       <dbl>\n1 Labri‚Ä¶ Chlo‚Ä¶ micror‚Ä¶ Chloru‚Ä¶   417     0.402       0.359       0.149\n2 Acant‚Ä¶ Zebr‚Ä¶ velifer Zebras‚Ä¶   153     0.548       0.625       0.359\n# ‚Ñπ 2 more variables: size <chr>, schooling <chr>\n\n\n\n\n",
      "last_modified": "2024-02-07T11:59:04-06:00"
    },
    {
      "path": "2-tidyverse.html",
      "title": "Session 2: Entering the tidyverse",
      "description": "This session introduces the basic functions in dplyr and other packages within the tidyverse. \n",
      "author": [
        {
          "name": "Simon J. Brandl, PhD",
          "url": "https://www.fishandfunctions.com/"
        }
      ],
      "date": "`r Sys.Date()`",
      "contents": "\n\nContents\na. 2: Demo\nb. 2: Slides\nc.¬†2: Exercises\nHomework\nBonus homework ü§©\n\nClasswork\n\nd.¬†2: Solutions\nHomework\na)\n\nClasswork\na)\nb)\nc)\n\n\n\n\n\n\na. 2: Demo\n\n\n\n\n\n\n\n\nb. 2: Slides\nYou can access the full slideshow used in the 2-Tidyverse narration here.\nThe dataset called ‚Äòfishtibble.csv‚Äô can be downloaded here.\nThe dataset called ‚Äòcoralreefherbivores.csv‚Äô can be downloaded here.\nThe dataset called ‚Äòfish_abundance.csv‚Äô can be downloaded here.\n\nc.¬†2: Exercises\nHomework\nPlease complete the following exercises at home after going through the demo above. We will go through the solutions to these exercises in class on Wednesday Jan 31st\nRead in the coralreefherbivores.csv dataset (if you haven‚Äôt already done so).\n\nThe ‚Äúcoralreefherbivores.csv‚Äù dataset contains trait information on 93 species of herbivorous coral reef fishes from the Great Barrier Reef, Australia. The first four columns provide taxonomic information (family, genus, species, and a combined genus + species column called ‚Äúgenspe‚Äù). The next column ‚Äúsl‚Äù indicates the standard length of the fish. Then, you have three columns with morphological measurements of body depth, snout length, and eye diameter. Finally, you have two columns that indicate maximum body size (categories from XS to XL) and their schooling behavior.\nUsing the herbivore dataset, perform the following actions:\nDetermine the mean standard length and standard deviation for the families Acanthuridae, Labridae, and Siganidae.\nCreate a variable that combines size and schooling into one column.\nExamine the mean eye diameter of the genera Zebrasoma and Scarus.\nCount the number of species in each size class.\nCalculate the ratio of snout length to standard length for each species, then determine which genus has the longest mean ratio of snout length to standard length.\n\nBonus homework ü§©\nPerform these exercises if you want to treat yourself to some extra work. Note that this is not a required part of the homework assignment\nlearn about and apply the following functions at your leisure:\n unite() \n separate() \n distinct() \n drop_na() \n\nClasswork\nWe will do these exercises in class on Wednesday, January 31st\n\nThe ‚Äúfish_abundance.csv‚Äù dataset contains reef fish abundance information, which was collected by the Reef Life Survey around Lizard Island, Australia. It includes information on the respective survey ID and its metadata (e.g.¬†site, latitude, longitude, date, and depth). It also includes a row for each observed species on a given visual survey, including taxonomic information (family, genus, species, and ‚Äúgenspe‚Äù), as well as the number of individuals observed on that survey (‚Äòtotal‚Äô).\nUsing the fish abundance dataset, perform the following actions:\nReveal how many distinct surveys were performed aruond Lizard Island.\nIn the family column, replace all occurrences of Scaridae with Labridae.\nFilter the dataset to only retain the families Acanthuridae, Siganidae, Kyphosidae and Labridae.\nExamine how many different species are in each genus.\nCalculate the mean abundance of each genus across different sites using group_by() and summarize(), while also retaining a variable that indicates the number of species per genus.\n\nUsing the herbivore trait dataset, perform the following actions:\nDetermine whether the median eye diameter differs between species in different social groups.\nRemove the standard length, size, and schooling categories dataset.\nCalculate the mean body depth, snout length, and eye diameter of each genus.\nTurn each trait into a separate column.\n\nCombine the two datasets:\nJoin the coralreefherbivores and fish_abundance datasets in their modified versions, retaining only genera that are present in the coralreefherbivores dataset and using ‚Äúgenus‚Äù as the joining variable.\nCreate a new variable that separates genera into high (>=2.0) and low (<2.0) abundance genera\nExamine whether high and low abundance genera differ in their mean morphological traits\n\nd.¬†2: Solutions\nHomework\na)\nUsing the herbivore dataset, perform the following actions:\nDetermine the mean standard length and standard deviation for the families Acanthuridae, Labridae, and Siganidae.\nCreate a variable that combines size and schooling into one column.\nExamine the mean eye diameter of the genera Zebrasoma and Scarus.\nCount the number of species in each size class.\nCalculate the ratio of snout length to standard length for each species, then determine which genus has the longest mean ratio of snout length to standard length.\n\n\n\nherbivores <- read.csv(file = \"data/coralreefherbivores.csv\")\nherbivores.filter <- herbivores %>% # mean sl and sd sl\n  filter(family == c(\"Acanthuridae\", \"Labridae\", \"Siganidae\")) %>%\n  group_by(family) %>%\n  summarize(mean.sl = mean(sl), sd.sl = sd(sl))\nhead(herbivores.filter)\n\n# A tibble: 3 √ó 3\n  family       mean.sl sd.sl\n  <chr>          <dbl> <dbl>\n1 Acanthuridae    186.  89.7\n2 Labridae        269.  73.5\n3 Siganidae       168.  54.7\n\nherbivores.size_schooling <- herbivores %>%\n  mutate(size_school = paste(size, schooling, sep = \".\"))\nhead(herbivores.size_schooling)\n\n        family      genus        species                   gen.spe\n1 Acanthuridae Acanthurus       achilles       Acanthurus.achilles\n2 Acanthuridae Acanthurus albipectoralis Acanthurus.albipectoralis\n3 Acanthuridae Acanthurus   auranticavus   Acanthurus.auranticavus\n4 Acanthuridae Acanthurus        blochii        Acanthurus.blochii\n5 Acanthuridae Acanthurus     dussumieri     Acanthurus.dussumieri\n6 Acanthuridae Acanthurus        fowleri        Acanthurus.fowleri\n        sl bodydepth snoutlength eyediameter size    schooling\n1 163.6667 0.5543625   0.4877797   0.3507191    S     Solitary\n2 212.7300 0.4405350   0.4402623   0.2560593    M  SmallGroups\n3 216.0000 0.4726556   0.5386490   0.2451253    M MediumGroups\n4  82.9000 0.5586486   0.4782217   0.3196155    M  SmallGroups\n5 193.7033 0.5457248   0.5661867   0.2807218    L     Solitary\n6 266.0000 0.4669521   0.5950563   0.2217376    M     Solitary\n     size_school\n1     S.Solitary\n2  M.SmallGroups\n3 M.MediumGroups\n4  M.SmallGroups\n5     L.Solitary\n6     M.Solitary\n\nherbivores.size_schooling2 <- unite(herbivores, col = \"size_and_schooling\", c(\"size\", \"schooling\"), sep = \".\") #alternative solution\n\n\nzebrasoma.scarus <- herbivores %>%\n  filter(genus == c(\"Zebrasoma\", \"Scarus\")) %>%\n  group_by(genus) %>%\n  summarize(mean.eye = mean(eyediameter))\nhead(herbivores.size_schooling2)\n\n        family      genus        species                   gen.spe\n1 Acanthuridae Acanthurus       achilles       Acanthurus.achilles\n2 Acanthuridae Acanthurus albipectoralis Acanthurus.albipectoralis\n3 Acanthuridae Acanthurus   auranticavus   Acanthurus.auranticavus\n4 Acanthuridae Acanthurus        blochii        Acanthurus.blochii\n5 Acanthuridae Acanthurus     dussumieri     Acanthurus.dussumieri\n6 Acanthuridae Acanthurus        fowleri        Acanthurus.fowleri\n        sl bodydepth snoutlength eyediameter size_and_schooling\n1 163.6667 0.5543625   0.4877797   0.3507191         S.Solitary\n2 212.7300 0.4405350   0.4402623   0.2560593      M.SmallGroups\n3 216.0000 0.4726556   0.5386490   0.2451253     M.MediumGroups\n4  82.9000 0.5586486   0.4782217   0.3196155      M.SmallGroups\n5 193.7033 0.5457248   0.5661867   0.2807218         L.Solitary\n6 266.0000 0.4669521   0.5950563   0.2217376         M.Solitary\n\nnumber.species <- herbivores %>% # solution 1\n  select(size) %>%\n  group_by(size) %>%\n  count(size)\nnumber.species\n\n# A tibble: 5 √ó 2\n# Groups:   size [5]\n  size      n\n  <chr> <int>\n1 L        18\n2 M        43\n3 S        28\n4 XL        5\n5 XS        2\n\ncrh.d <- herbivores %>% group_by(size) %>% summarize(n_species = n_distinct(gen.spe))\ncrh.d\n\n# A tibble: 5 √ó 2\n  size  n_species\n  <chr>     <int>\n1 L            18\n2 M            43\n3 S            28\n4 XL            5\n5 XS            2\n\nratio <- herbivores %>%\n  group_by(species) %>%\n  mutate(ratio.snout.sl = (snoutlength/sl)) %>%\n  arrange(desc(ratio.snout.sl))\nhead(ratio)\n\n# A tibble: 6 √ó 11\n# Groups:   species [6]\n  family genus species gen.spe    sl bodydepth snoutlength eyediameter\n  <chr>  <chr> <chr>   <chr>   <dbl>     <dbl>       <dbl>       <dbl>\n1 Acant‚Ä¶ Cten‚Ä¶ binota‚Ä¶ Ctenoc‚Ä¶  62.4     0.529       0.451       0.365\n2 Acant‚Ä¶ Zebr‚Ä¶ scopas  Zebras‚Ä¶  96.1     0.621       0.600       0.304\n3 Acant‚Ä¶ Cten‚Ä¶ tomini‚Ä¶ Ctenoc‚Ä¶  85       0.491       0.525       0.277\n4 Acant‚Ä¶ Acan‚Ä¶ nigrof‚Ä¶ Acanth‚Ä¶  66.2     0.497       0.397       0.353\n5 Acant‚Ä¶ Acan‚Ä¶ blochii Acanth‚Ä¶  82.9     0.559       0.478       0.320\n6 Acant‚Ä¶ Cten‚Ä¶ flavic‚Ä¶ Ctenoc‚Ä¶  92       0.565       0.485       0.346\n# ‚Ñπ 3 more variables: size <chr>, schooling <chr>,\n#   ratio.snout.sl <dbl>\n\nClasswork\na)\nUsing the fish abundance dataset, perform the following actions:\nReveal how many distinct surveys were performed around Lizard Island (SurveyID).\nIn the family column, replace all occurrences of Scaridae with Labridae.\nFilter the dataset to only retain the families Acanthuridae, Siganidae, Kyphosidae and Labridae.\nExamine how many different species are in each genus.\nCalculate the mean abundance of each genus using group_by() and summarize(), while also retaining a variable that indicates the number of species per genus.\n\n\n\nfish.abu <- read.csv(file = \"data/fish_abundance.csv\")\n\n# how many surveys\nsurveys <- fish.abu %>%\n  select(surveyid) %>% \n  distinct() # distinct gives yu the number of unique occurrences\nnrow(surveys)\n\n[1] 62\n\n# replace Scaridae with Labridae\nfish.abu.recode <- fish.abu %>%\n  mutate(family = recode(family, \"Scaridae\" = \"Labridae\")) # use recode within mutate to change the family\nhead(fish.abu.recode)\n\n  surveyid   country              site sitelat sitelong    surveydate\n1  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n2  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n3  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n4  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n5  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n6  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n  depth       family        genus      species block total\n1     3 Acanthuridae   Acanthurus grammoptilus     2     4\n2     3 Acanthuridae   Acanthurus   nigricauda     2     3\n3     3 Acanthuridae   Acanthurus    olivaceus     2     2\n4     3 Acanthuridae Ctenochaetus    binotatus     1    15\n5     3 Acanthuridae Ctenochaetus    binotatus     2    10\n6     3 Acanthuridae    Zebrasoma       scopas     1     2\n                   genspe\n1 Acanthurus.grammoptilus\n2   Acanthurus.nigricauda\n3    Acanthurus.olivaceus\n4  Ctenochaetus.binotatus\n5  Ctenochaetus.binotatus\n6        Zebrasoma.scopas\n\n# filter out families\nfish.abu.filtered <- fish.abu.recode %>%\n  filter(family %in% c(\"Acanthuridae\", \"Siganidae\", \"Labridae\", \"Kyphosidae\")) # use filter - also works as family == c(\"\")\nhead(fish.abu.filtered)\n\n  surveyid   country              site sitelat sitelong    surveydate\n1  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n2  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n3  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n4  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n5  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n6  4000720 Australia Watsons Bay north  -14.66   145.45 6/27/10 14:00\n  depth       family        genus      species block total\n1     3 Acanthuridae   Acanthurus grammoptilus     2     4\n2     3 Acanthuridae   Acanthurus   nigricauda     2     3\n3     3 Acanthuridae   Acanthurus    olivaceus     2     2\n4     3 Acanthuridae Ctenochaetus    binotatus     1    15\n5     3 Acanthuridae Ctenochaetus    binotatus     2    10\n6     3 Acanthuridae    Zebrasoma       scopas     1     2\n                   genspe\n1 Acanthurus.grammoptilus\n2   Acanthurus.nigricauda\n3    Acanthurus.olivaceus\n4  Ctenochaetus.binotatus\n5  Ctenochaetus.binotatus\n6        Zebrasoma.scopas\n\n# count species in each genus\nfish.species.counts <- fish.abu.filtered %>%\n  group_by(genus) %>% # group by genus\n  summarize(number.species = n_distinct(species)) # use n_distinct() to count the rows in each groups ;-) \nhead(fish.species.counts)\n\n# A tibble: 6 √ó 2\n  genus      number.species\n  <chr>               <int>\n1 Acanthurid              1\n2 Acanthurus              9\n3 Anampses                2\n4 Bodianus                3\n5 Calotomus               1\n6 Cetoscarus              1\n\n# mean abundances and number of species\nfish.genus.abundance <- fish.abu.filtered %>%\n  group_by(genus) %>% # group by family and genus - important because we'll want family in this dataset\n  summarize(mean.abu = mean(total), number.species = n_distinct(species)) # mean and n_distinct\nhead(fish.genus.abundance)\n\n# A tibble: 6 √ó 3\n  genus      mean.abu number.species\n  <chr>         <dbl>          <int>\n1 Acanthurid     1                 1\n2 Acanthurus     4.01              9\n3 Anampses       3.33              2\n4 Bodianus       1.32              3\n5 Calotomus      1                 1\n6 Cetoscarus     1                 1\n\nb)\nUsing the herbivore trait dataset, perform the following actions:\nDetermine whether the median eye diameter differs among different social groups.\nRemove the standard length, size, and schooling categories dataset.\nCalculate the mean body depth, snout length, and eye diameter of each genus.\nTurn each trait back into a separate column.\n\n\n\n# eye diameter\nherbivore.eyes <- herbivores %>%\n  group_by(schooling) %>% # group by scholing variable\n  summarize(mean.eye = mean(eyediameter)) #summarize()\nherbivore.eyes\n\n# A tibble: 5 √ó 2\n  schooling    mean.eye\n  <chr>           <dbl>\n1 LargeGroups     0.275\n2 MediumGroups    0.233\n3 Pairs           0.315\n4 SmallGroups     0.268\n5 Solitary        0.262\n\nherbivore.pruned <- herbivores %>%\n  select(-sl, -size, -schooling) # use select to remove columns\nhead(herbivore.pruned)\n\n        family      genus        species                   gen.spe\n1 Acanthuridae Acanthurus       achilles       Acanthurus.achilles\n2 Acanthuridae Acanthurus albipectoralis Acanthurus.albipectoralis\n3 Acanthuridae Acanthurus   auranticavus   Acanthurus.auranticavus\n4 Acanthuridae Acanthurus        blochii        Acanthurus.blochii\n5 Acanthuridae Acanthurus     dussumieri     Acanthurus.dussumieri\n6 Acanthuridae Acanthurus        fowleri        Acanthurus.fowleri\n  bodydepth snoutlength eyediameter\n1 0.5543625   0.4877797   0.3507191\n2 0.4405350   0.4402623   0.2560593\n3 0.4726556   0.5386490   0.2451253\n4 0.5586486   0.4782217   0.3196155\n5 0.5457248   0.5661867   0.2807218\n6 0.4669521   0.5950563   0.2217376\n\n# mean body depth, snout length, and eye diameter\nherbivore.means <- herbivore.pruned %>%\n  gather(5:7, key = \"metric\", value = \"value\") %>% # gather thre three morphometric columns into one\n  group_by(genus, metric) %>% # group by\n  summarize(mean.val = mean(value)) # get mean\nhead(herbivore.means)\n\n# A tibble: 6 √ó 3\n# Groups:   genus [2]\n  genus        metric      mean.val\n  <chr>        <chr>          <dbl>\n1 Acanthurus   bodydepth      0.508\n2 Acanthurus   eyediameter    0.298\n3 Acanthurus   snoutlength    0.498\n4 Bolbometopon bodydepth      0.437\n5 Bolbometopon eyediameter    0.233\n6 Bolbometopon snoutlength    0.312\n\n# turn traits back into separate columns\nherbivore.spread <- herbivore.means %>%\n  spread(key = \"metric\", value = \"mean.val\") # use spread function\nherbivore.spread\n\n# A tibble: 14 √ó 4\n# Groups:   genus [14]\n   genus         bodydepth eyediameter snoutlength\n   <chr>             <dbl>       <dbl>       <dbl>\n 1 Acanthurus        0.508       0.298       0.498\n 2 Bolbometopon      0.437       0.233       0.312\n 3 Calotomus         0.385       0.246       0.306\n 4 Cetoscarus        0.387       0.139       0.428\n 5 Chlorurus         0.400       0.187       0.366\n 6 Ctenochaetus      0.532       0.295       0.535\n 7 Hipposcarus       0.404       0.150       0.386\n 8 Kyphosus          0.479       0.181       0.164\n 9 Leptoscarus       0.334       0.209       0.297\n10 Naso              0.386       0.274       0.547\n11 Paracanthurus     0.490       0.295       0.533\n12 Scarus            0.391       0.195       0.341\n13 Siganus           0.443       0.329       0.352\n14 Zebrasoma         0.575       0.305       0.657\n\nc)\nCombine the two datasets:\nJoin the coralreefherbivores and fish_abundance datasets in their modified versions, retaining only genera that are present in the coralreefherbivores dataset and using ‚Äúgenus‚Äù as the joining variable.\nCreate a new variable that separates genera into high (>=2.0) and low (<2.0) abundance genera\nExamine whether high and low abundance genera differ in their mean morphological traits\n\n\n\nherbivores.joined <- herbivore.spread %>%\n  left_join(fish.genus.abundance, by = \"genus\") %>% # use left_join to retain the ones in the traits dataset\n  drop_na(mean.abu) # remove NA values \nherbivores.joined\n\n# A tibble: 11 √ó 6\n# Groups:   genus [11]\n   genus     bodydepth eyediameter snoutlength mean.abu number.species\n   <chr>         <dbl>       <dbl>       <dbl>    <dbl>          <int>\n 1 Acanthur‚Ä¶     0.508       0.298       0.498     4.01              9\n 2 Calotomus     0.385       0.246       0.306     1                 1\n 3 Cetoscar‚Ä¶     0.387       0.139       0.428     1                 1\n 4 Chlorurus     0.400       0.187       0.366     5.39              2\n 5 Ctenocha‚Ä¶     0.532       0.295       0.535     5.58              3\n 6 Kyphosus      0.479       0.181       0.164     1.5               1\n 7 Naso          0.386       0.274       0.547     1.54              6\n 8 Paracant‚Ä¶     0.490       0.295       0.533     2                 1\n 9 Scarus        0.391       0.195       0.341     3.42             15\n10 Siganus       0.443       0.329       0.352     2.21             11\n11 Zebrasoma     0.575       0.305       0.657     2.80              2\n\nherbivores.joined.2 <- herbivores.joined %>%\n  mutate(highvslow = case_when(mean.abu >=2 ~ \"high\", # use case_when function\n                               TRUE ~ \"low\"))\nherbivores.joined.2\n\n# A tibble: 11 √ó 7\n# Groups:   genus [11]\n   genus     bodydepth eyediameter snoutlength mean.abu number.species\n   <chr>         <dbl>       <dbl>       <dbl>    <dbl>          <int>\n 1 Acanthur‚Ä¶     0.508       0.298       0.498     4.01              9\n 2 Calotomus     0.385       0.246       0.306     1                 1\n 3 Cetoscar‚Ä¶     0.387       0.139       0.428     1                 1\n 4 Chlorurus     0.400       0.187       0.366     5.39              2\n 5 Ctenocha‚Ä¶     0.532       0.295       0.535     5.58              3\n 6 Kyphosus      0.479       0.181       0.164     1.5               1\n 7 Naso          0.386       0.274       0.547     1.54              6\n 8 Paracant‚Ä¶     0.490       0.295       0.533     2                 1\n 9 Scarus        0.391       0.195       0.341     3.42             15\n10 Siganus       0.443       0.329       0.352     2.21             11\n11 Zebrasoma     0.575       0.305       0.657     2.80              2\n# ‚Ñπ 1 more variable: highvslow <chr>\n\nherbivores.highlow <- herbivores.joined.2 %>%\n  gather(2:5, key = \"metric\", value = \"value\") %>% # gathering to make it more efficient\n  group_by(metric, highvslow) %>% # grouping\n  summarize(mean.val = mean(value), # summarizing for mean and sd\n            sd.val = sd(value))\nherbivores.highlow\n\n# A tibble: 8 √ó 4\n# Groups:   metric [4]\n  metric      highvslow mean.val sd.val\n  <chr>       <chr>        <dbl>  <dbl>\n1 bodydepth   high         0.477 0.0688\n2 bodydepth   low          0.409 0.0466\n3 eyediameter high         0.272 0.0567\n4 eyediameter low          0.210 0.0613\n5 mean.abu    high         3.63  1.44  \n6 mean.abu    low          1.26  0.299 \n7 snoutlength high         0.469 0.119 \n8 snoutlength low          0.361 0.164 \n\n\n\n\n",
      "last_modified": "2024-02-07T11:59:06-06:00"
    },
    {
      "path": "3-ggplot.html",
      "title": "Session 3: Data visualization in ggplot2",
      "description": "This session introduces the basic functionalities of the ggplot2 package, allowing you to create beautiful graphs using R. \n",
      "author": [
        {
          "name": "Simon J. Brandl, PhD",
          "url": "https://www.fishandfunctions.com/"
        }
      ],
      "date": "`r Sys.Date()`",
      "contents": "\n\nContents\na. 3: Demo\nb. 3: Slides\nc.¬†3: Exercises\nHomework\nPart I\nPart II\nPart III\nBonus work ü§©\n\nClasswork\nPart I\nPart II\nPart III\n\n\nd.¬†3: Solutions\nHomework solutions\nPart I\nPart II\nPart III\n\nBonuswork solutions\nClasswork solutions\nPart I\nPart II\nPart III\n\n\n\n\n\na. 3: Demo\n\n\n\n\n\n\n\n\nb. 3: Slides\nYou can access the full slideshow used in the 3-ggplot narration here.\nThe dataset called ‚Äòcoralreefherbivores.csv‚Äô can be downloaded here.\nThe dataset called ‚Äòreef_fishes.csv‚Äô can be downloaded here.\nThe dataset called ‚Äòfish_abundance.csv‚Äô can be downloaded here.\nThe dataset called ‚Äòsite_info.csv‚Äô can be downloaded here.\n\nc.¬†3: Exercises\nHomework\nPlease complete the following exercises at home after going through the demo above. We will go through the solutions to these exercises in class on Wednesday Feb 7th\nStart by loading in the two datasets below (which are available for download using the links above).\n\n\nfish.abundance <- read.csv(file = \"data/fish_abundance.csv\")\nsite.info <- read.csv(file = \"data/site_info.csv\")\n\n\nRe-familiarize with the ‚Äúfish_abundance.csv‚Äù dataset. The dataset includes many fish species, which were counted across different sites and depths. Fish diversity often decreases with depth on coral reefs, so let‚Äôs explore whether there is a relationship between depth and diversity.\nPart I\nSimplify the dataset to include species, site, depth.\nUse distinct() to make sure no species were recorded twice.\nCalculate species richness by site and depth.\nPart II\nPlot depth versus species richness.\nAdd site as a color variable.\nPart III\nProduce another plot, only including the families Serranidae, Acanthuridae, Pomacentridae, and Chaetodontidae.\nUse with facet_wrap() or facet_grid() to create separate facets for each family.\nBonus work ü§©\nExplore differences in the species richness of the four families (Serranidae, Acanthuridae, Pomacentridae, and Chaetodontidae) using violin or density plots\nColor the density plots based on family and include the raw data to create sina plots\nTry to sort the violin plot in descending order, starting with the highest species richness\nMake it pretty! üòä\nClasswork\nWe will do these exercises in class on Wednesday, February 7th\nIn the last plot from Exercise 1, it appears as though some sites have higher species richness than others. Let‚Äôs further examine why species richness across sites using ‚Äúsite_info.csv,‚Äù which includes metadata on the exposure of each site.\nPart I\nCreate a dataset that summarizes species richness by surveyid and site.\nJoin this species richness data with the site exposure metadata.\nPart II\nUse a violin plot to visualize the species richness of exposed vs.¬†lagoon sites.\nPart III\nCalculate the average abundance of each family in a given survey.\nPlot the average abundance using density curves.\nBonus: Transform the x-axis to make the plot more useful.\nd.¬†3: Solutions\nHomework solutions\nPart I\nSimplify the dataset to include species, site, depth.\nUse distinct() to make sure no species were recorded twice.\nCalculate species richness by site and depth.\n\n\nfish.abundance <- read.csv(file = \"data/fish_abundance.csv\") # load data\n\nfish.sprich <- fish.abundance %>%\n  select(site, depth, genspe) %>%\n  distinct() %>%\n  group_by(site, depth) %>%\n  summarize(sprich = n())\n\nhead(fish.sprich)\n\n# A tibble: 6 √ó 3\n# Groups:   site [2]\n  site        depth sprich\n  <chr>       <dbl>  <int>\n1 Bird Islets   2.5    107\n2 Bird Islets   3      117\n3 Bird Islets   3.1     64\n4 Bird Islets  10       40\n5 Blue Hole     2       68\n6 Blue Hole     3.5     71\n\nPart II\nPlot depth versus species richness.\nAdd site as a color variable.\n\n\nfish.sprich.plot <- ggplot(fish.sprich, aes(x = depth, y = sprich, color = site)) +\n  geom_point() +\n  scale_color_fish_d(option = \"Synchiropus_splendidus\") +\n  theme_bw()\n  \nfish.sprich.plot\n\n\n\nPart III\nProduce another plot, only including the families Serranidae, Acanthuridae, Pomacentridae, and Chaetodontidae.\nUse with facet_wrap() or facet_grid() to create separate facets for each family.\n\n\nfish.sprich.fam <- fish.abundance %>%\n  filter(family %in% c(\"Acanthuridae\", \"Chaetodontidae\", \"Serranidae\", \"Pomacentridae\")) %>%\n  select(site, depth, family, genspe) %>%\n  distinct() %>%\n  group_by(site, depth, family) %>%\n  summarize(sprich = n()) \nhead(fish.sprich.fam)\n\n# A tibble: 6 √ó 4\n# Groups:   site, depth [2]\n  site        depth family         sprich\n  <chr>       <dbl> <chr>           <int>\n1 Bird Islets   2.5 Acanthuridae        9\n2 Bird Islets   2.5 Chaetodontidae      6\n3 Bird Islets   2.5 Pomacentridae      29\n4 Bird Islets   2.5 Serranidae          2\n5 Bird Islets   3   Acanthuridae        5\n6 Bird Islets   3   Chaetodontidae      9\n\nfish.sprich.fam.plot <- ggplot(fish.sprich.fam, aes(x = depth, y = sprich, color = site)) +\n  geom_point() + \n  facet_wrap(.~family, scales = \"free\") +\n    scale_color_fish_d(option = \"Synchiropus_splendidus\") +\n  theme_bw()\nfish.sprich.fam.plot\n\n\n\nBonuswork solutions\nExplore differences in the species richness of the four families (Serranidae, Acanthuridae, Pomacentridae, and Chaetodontidae) using violin or density plots\nColor the density plots based on family and include the raw data to create sina plots\nTry to sort the violin plot in descending order, starting with the highest species richness\nMake it pretty! üòä\n\n\nfish.family.plot <- ggplot(fish.sprich.fam, aes(x = fct_reorder(family, -sprich, .fun = sum), \n                                                y = sprich, fill = family)) +\n  geom_violin(draw_quantiles = c(0.05, 0.5, 0.95), color = \"grey23\", alpha = 0.8, lwd = 0.5) +\n  geom_jitter(aes(shape = family), alpha = 0.5, color = \"black\", size = 3, width = 0.2) +\n  theme_bw() +\n  scale_fill_fish_d(option = \"Bodianus_rufus\", name = \"Fish family\") +\n  scale_shape_manual(values = c(21:24), name = \"Fish family\") +\n  ylab(\"Number of species per site\") +\n  xlab(\"Fish family\") \n  \nfish.family.plot\n\n\n\nClasswork solutions\nPart I\nCreate a dataset that summarizes species richness by surveyid and site.\nJoin this species richness data with the site exposure metadata.\n\n\nsite.info <- read.csv(file = \"data/site_info.csv\")\n\nfish.sprich.site <- fish.abundance %>%\n  select(surveyid, site, genspe) %>%\n  distinct() %>%\n  group_by(surveyid, site) %>%\n  summarize(sprich = n()) %>%\n  left_join(site.info, by = \"site\")\n\nhead(fish.sprich.site) \n\n# A tibble: 6 √ó 4\n# Groups:   surveyid [6]\n  surveyid site                sprich exposure\n     <int> <chr>                <int> <chr>   \n1  4000720 Watsons Bay north       87 lagoon  \n2  4000721 Watsons Bay north       84 lagoon  \n3  4000722 Watsons-Turtle Reef     71 lagoon  \n4  4000723 Watsons-Turtle Reef     82 lagoon  \n5  4000724 Horseshoe Reef          60 lagoon  \n6  4000725 Horseshoe Reef          68 lagoon  \n\nPart II\nUse a violin plot to visualize the species richness of exposed vs.¬†lagoon sites.\n\n\nfish.sprich.site.plot <- ggplot(fish.sprich.site, aes(x = exposure, y = sprich, fill = exposure)) +\n  geom_violin(draw_quantiles = c(0.025, 0.5, 0.975)) +\n  geom_jitter(width = 0.1) +\n    scale_fill_fish_d(option = \"Synchiropus_splendidus\") +\n  theme_bw()\nfish.sprich.site.plot\n\n\n\nPart III\nCalculate the average abundance of each family in a given survey.\nPlot the average abundance using density curves.\nBonus: transform the x-axis to make the plot more useful.\n\n\n# 1) Calculate the average abundance of each family in a given survey.\nfish.abun.survey <- fish.abundance %>%\n  group_by(surveyid, family) %>%\n  summarize(total.fish = sum(total))\nhead(fish.abun.survey)\n\n# A tibble: 6 √ó 3\n# Groups:   surveyid [1]\n  surveyid family         total.fish\n     <int> <chr>               <int>\n1  4000720 Acanthuridae           37\n2  4000720 Blenniidae              9\n3  4000720 Carangidae              2\n4  4000720 Chaetodontidae         33\n5  4000720 Gobiidae                5\n6  4000720 Haemulidae              3\n\n# 2) Plot the average abundance using density curves.\nfish.abun.plot <- ggplot(fish.abun.survey, \n                        aes(x = total.fish, y = family)) +\n                          geom_density_ridges(alpha = 0.5, fill = \"forestgreen\") +\n  theme_bw()\nfish.abun.plot\n\n\n# 3) Bonus: Transform the x-axis to make the plot more useful.\n# use rel_min_height() to cut the tails\nfish.abun.plot2 <- ggplot(fish.abun.survey, \n                        aes(x = log10(total.fish), #use log10 transformation\n                            y = fct_reorder(family, total.fish, .fun = sum))) + # use fct_reorder() to reorder the y-variable as descending based on the total sum of fish in each family\n                          geom_density_ridges(alpha = 0.5, rel_min_height = 0.005, fill = \"forestgreen\") +\n  xlab(\"Species richness (log)\") +\n  ylab(\"Fish family\") +\n  theme_bw()\nfish.abun.plot2\n\n\n\n\n\n\n",
      "last_modified": "2024-02-07T11:59:08-06:00"
    },
    {
      "path": "about.html",
      "title": "About",
      "description": "Some information about the course\n",
      "author": [],
      "date": "`r Sys.Date()`",
      "contents": "\nCourse synopsis\n\nThis course aims to provide students with a holistic understanding of the assembly and functioning of marine communities. Students will learn about existing and emerging theories and concepts in community ecology and gain insight into traditional and modern techniques to study marine communities, from visual censuses to molecular approaches.\n\nThe course includes quantitative training and practical components using the software R, designed to foster an understanding of basic statistical concepts in community ecology and their thoughtful implementation. No existing experience in R is required but familiarizing yourself with the software early on may be helpful (see resources below).\n\nThe course includes two laboratory sessions to be held on Sat/Sun in February (02/16-02/17) and April (04/27-04/28) during which you will have an opportunity to engage in hands-on research on marine and estuarine communities.\n\n\n\n\n",
      "last_modified": "2024-02-07T11:59:08-06:00"
    },
    {
      "path": "index.html",
      "title": "Marine Community Ecology",
      "author": [],
      "contents": "\n\n          \n          \n          Marine Community Ecology - UT Austin Marine Science Institute\n          \n          \n          Home\n          About\n          \n          \n          Coding in R\n           \n          ‚ñæ\n          \n          \n          0-Overview\n          1-Introduction\n          2-Tidyverse\n          3-ggplot\n          \n          \n          Instructors\n          ‚ò∞\n          \n          \n      \n        \n          \n            \n              \n            \n              Marine Community Ecology\n            \n            \n              \n                \n                    \n                      \n                         GitHub\n                      \n                    \n                  \n                                    \n                    \n                      \n                         Email\n                      \n                    \n                  \n                                  \n            \n          \n        \n        \n        \n          \n            \n            ü¶ë üê† üêö ü¶Ä üê≥ üê° üêô ü¶à ü¶ê\n             This is the companion page for\n            MNS352/MNS382: Marine Community Ecology,\n            taught at the University of Texas at Austin Marine Science\n            Institute. The aim of this course is to provide students\n            with a holistic understanding of the assembly and\n            functioning of ecological communities in the marine\n            environment. The course provides an introduction to using R\n            for the analyses of ecological communities. All materials\n            needed to follow and complete the coding lessons and\n            exercises are provided on this page.  üî®This\n            website was built in R using the\n            distill package. All slideshows were created in\n            R using the xaringan package.\n            üî® \n            License and Citation: This is an\n            Open Educational Resource (OER). You may use or amend the\n            content for you own purposes but please reference it\n            appropriately.\n            \n            \n          \n        \n      \n    \n\n    \n      \n        \n          \n            \n              \n            \n              Marine Community Ecology\n            \n            \n              \n                \n                                    \n                    \n                       GitHub\n                    \n                  \n                                    \n                    \n                       Email\n                    \n                  \n                                  \n              \n            \n            \n              \n              ü¶ë üê† üêö ü¶Ä üê≥ üê° üêô ü¶à ü¶ê\n               This is the companion page for\n              MNS352/MNS382: Marine Community Ecology,\n              taught at the University of Texas at Austin Marine Science\n              Institute. The aim of this course is to provide students\n              with a holistic understanding of the assembly and\n              functioning of ecological communities in the marine\n              environment. The course provides an introduction to using\n              R for the analyses of ecological communities. All\n              materials needed to follow and complete the coding lessons\n              and exercises are provided on this page.  üî®This\n              website was built in R using the\n              distill package. All slideshows were created\n              in R using the xaringan\n              package. üî® \n              License and Citation: This is an\n              Open Educational Resource (OER). You may use or amend the\n              content for you own purposes but please reference it\n              appropriately.\n              \n              \n            \n        \n      \n    \n\n    \n    \n    ",
      "last_modified": "2024-02-07T11:59:16-06:00"
    },
    {
      "path": "instructors.html",
      "title": "Course instructors",
      "description": "A brief introduction to your course instructors \n",
      "author": [],
      "date": "`r Sys.Date()`",
      "contents": "\n\nSimon J. Brandl, PhD\nDr.¬†Brandl is an Assistant Professor in Marine Science at the University of Texas at Austin Marine Science Institute. He maintains a research program that revolves around the causes and consequences of marine community assembly. Dr.¬†Brandl originally developed this course in 2022.\n\nJordan M. Casey, PhD\nDr.¬†Casey is also an Assistant Professor in Marine Science at the University of Texas at Austin Marine Science Institute. She examines ecological communities and trophic interactions among species using molecular techniques. Dr.¬†Casey refined the course materials in 2023.\n\n\n\n",
      "last_modified": "2024-02-07T11:59:16-06:00"
    }
  ],
  "collections": []
}
